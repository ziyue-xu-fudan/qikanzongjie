# 修复正则表达式 AttributeError

解决 `format_abstract_structure` 函数中 `NoneType object has no attribute 'upper'` 的报错。

## 1. 修复逻辑
*   在 `replace_func` 内部增加空值检查。
*   虽然理论上 `(.+)` 应该捕获到内容，但为了防止意外，我们必须确保 `match.group(2)` 不为 None 再调用 `.upper()`。

## 2. 执行
*   修改 `app_v2.py`。
